{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/xolvio:backdoor/server.js","filenameRelative":"packages/xolvio:backdoor/server.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/xolvio:backdoor/server.js.map","sourceFileName":"packages/xolvio:backdoor/server.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"server"},"ignored":false,"code":"/* globals meteorInstall: false */var vm = Npm.require('vm');\n\nMeteor.methods({\n  'xolvio/backdoor': function (func, args) {\n    check(func, String);\n    check(args, Match.Optional(Array));\n\n    try {\n      var preparedFunc = vm.runInThisContext('(function (require) { return (' + func + '); })').call(null, meteorInstall());\n      return {\n        value: preparedFunc.apply(global, args)\n      };\n    } catch (error) {\n      return {\n        error: {\n          message: error.toString(),\n          stack: error.stack ? error.stack.toString() : '',\n          code: func\n        }\n      };\n    }\n  }\n});","map":{"version":3,"sources":["packages/xolvio:backdoor/server.js"],"names":["vm","Npm","require","Meteor","methods","func","args","check","String","Match","Optional","Array","preparedFunc","runInThisContext","call","meteorInstall","value","apply","global","error","message","toString","stack","code"],"mappings":"AAAA,kCAEA,IAAIA,KAAKC,IAAIC,OAAJ,CAAY,IAAZ,CAAT;;AAEAC,OAAOC,OAAP,CAAe;AACb,qBAAmB,UAAUC,IAAV,EAAgBC,IAAhB,EAAsB;AACvCC,UAAMF,IAAN,EAAYG,MAAZ;AACAD,UAAMD,IAAN,EAAYG,MAAMC,QAAN,CAAeC,KAAf,CAAZ;;AAEA,QAAI;AACF,UAAMC,eAAeZ,GAAGa,gBAAH,CACnB,mCAAmCR,IAAnC,GAA0C,OADvB,EAEnBS,IAFmB,CAEd,IAFc,EAERC,eAFQ,CAArB;AAGA,aAAO;AACLC,eAAOJ,aAAaK,KAAb,CAAmBC,MAAnB,EAA2BZ,IAA3B;AADF,OAAP;AAGD,KAPD,CAOE,OAAOa,KAAP,EAAc;AACd,aAAO;AACLA,eAAO;AACLC,mBAASD,MAAME,QAAN,EADJ;AAELC,iBAAOH,MAAMG,KAAN,GAAcH,MAAMG,KAAN,CAAYD,QAAZ,EAAd,GAAuC,EAFzC;AAGLE,gBAAMlB;AAHD;AADF,OAAP;AAOD;AACF;AArBY,CAAf","file":"packages/xolvio:backdoor/server.js.map","sourcesContent":["/* globals meteorInstall: false */\n\nvar vm = Npm.require('vm');\n\nMeteor.methods({\n  'xolvio/backdoor': function (func, args) {\n    check(func, String);\n    check(args, Match.Optional(Array));\n\n    try {\n      const preparedFunc = vm.runInThisContext(\n        '(function (require) { return (' + func + '); })'\n      ).call(null, meteorInstall());\n      return {\n        value: preparedFunc.apply(global, args)\n      };\n    } catch (error) {\n      return {\n        error: {\n          message: error.toString(),\n          stack: error.stack ? error.stack.toString() : '',\n          code: func\n        }\n      };\n    }\n  }\n});\n"]},"hash":"6871388404328f18b9a859f7b916c7914a77b1b0"}
