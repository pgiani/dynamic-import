{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"prop-types","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"PropTypes"}]},{"source":"react-bootstrap","imported":["ButtonToolbar","ButtonGroup","Button"],"specifiers":[{"kind":"named","imported":"ButtonToolbar","local":"ButtonToolbar"},{"kind":"named","imported":"ButtonGroup","local":"ButtonGroup"},{"kind":"named","imported":"Button","local":"Button"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]},{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/themeteorchef:bert","imported":["Bert"],"specifiers":[{"kind":"named","imported":"Bert","local":"Bert"}]},{"source":"../../api/documents/documents","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Documents"}]},{"source":"../../api/documents/methods","imported":["removeDocument"],"specifiers":[{"kind":"named","imported":"removeDocument","local":"removeDocument"}]},{"source":"./NotFound","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"NotFound"}]},{"source":"../../modules/container","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"container"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/pages/ViewDocument.js","filenameRelative":"imports/ui/pages/ViewDocument.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/pages/ViewDocument.js.map","sourceFileName":"imports/ui/pages/ViewDocument.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"ViewDocument"},"ignored":false,"code":"var React = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar PropTypes = void 0;\nmodule.watch(require(\"prop-types\"), {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar ButtonToolbar = void 0,\n    ButtonGroup = void 0,\n    Button = void 0;\nmodule.watch(require(\"react-bootstrap\"), {\n  ButtonToolbar: function (v) {\n    ButtonToolbar = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  Button: function (v) {\n    Button = v;\n  }\n}, 2);\nvar browserHistory = void 0;\nmodule.watch(require(\"react-router\"), {\n  browserHistory: function (v) {\n    browserHistory = v;\n  }\n}, 3);\nvar Meteor = void 0;\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 4);\nvar Bert = void 0;\nmodule.watch(require(\"meteor/themeteorchef:bert\"), {\n  Bert: function (v) {\n    Bert = v;\n  }\n}, 5);\nvar Documents = void 0;\nmodule.watch(require(\"../../api/documents/documents\"), {\n  \"default\": function (v) {\n    Documents = v;\n  }\n}, 6);\nvar removeDocument = void 0;\nmodule.watch(require(\"../../api/documents/methods\"), {\n  removeDocument: function (v) {\n    removeDocument = v;\n  }\n}, 7);\nvar NotFound = void 0;\nmodule.watch(require(\"./NotFound\"), {\n  \"default\": function (v) {\n    NotFound = v;\n  }\n}, 8);\nvar container = void 0;\nmodule.watch(require(\"../../modules/container\"), {\n  \"default\": function (v) {\n    container = v;\n  }\n}, 9);\n\nvar handleEdit = function (_id) {\n  browserHistory.push(\"/documents/\" + _id + \"/edit\");\n};\n\nvar handleRemove = function (_id) {\n  if (confirm('Are you sure? This is permanent!')) {\n    removeDocument.call({\n      _id: _id\n    }, function (error) {\n      if (error) {\n        Bert.alert(error.reason, 'danger');\n      } else {\n        Bert.alert('Document deleted!', 'success');\n        browserHistory.push('/documents');\n      }\n    });\n  }\n};\n\nvar ViewDocument = function (_ref) {\n  var doc = _ref.doc;\n  return doc ? React.createElement(\n    \"div\",\n    {\n      className: \"ViewDocument\"\n    },\n    React.createElement(\n      \"div\",\n      {\n        className: \"page-header clearfix\"\n      },\n      React.createElement(\n        \"h4\",\n        {\n          className: \"pull-left\"\n        },\n        doc && doc.title\n      ),\n      React.createElement(\n        ButtonToolbar,\n        {\n          className: \"pull-right\"\n        },\n        React.createElement(\n          ButtonGroup,\n          {\n            bsSize: \"small\"\n          },\n          React.createElement(\n            Button,\n            {\n              onClick: function () {\n                return handleEdit(doc._id);\n              }\n            },\n            \"Edit\"\n          ),\n          React.createElement(\n            Button,\n            {\n              onClick: function () {\n                return handleRemove(doc._id);\n              },\n              className: \"text-danger\"\n            },\n            \"Delete\"\n          )\n        )\n      )\n    ),\n    doc && doc.body\n  ) : React.createElement(NotFound, null);\n};\n\nViewDocument.propTypes = {\n  doc: PropTypes.object\n};\nmodule.exportDefault(container(function (props, onData) {\n  var documentId = props.params._id;\n  var subscription = Meteor.subscribe('documents.view', documentId);\n\n  if (subscription.ready()) {\n    var doc = Documents.findOne(documentId);\n    onData(null, {\n      doc: doc\n    });\n  }\n}, ViewDocument));","map":{"version":3,"sources":["imports/ui/pages/ViewDocument.js"],"names":["React","module","watch","require","v","PropTypes","ButtonToolbar","ButtonGroup","Button","browserHistory","Meteor","Bert","Documents","removeDocument","NotFound","container","handleEdit","_id","push","handleRemove","confirm","call","error","alert","reason","ViewDocument","doc","title","body","propTypes","object","exportDefault","props","onData","documentId","params","subscription","subscribe","ready","findOne"],"mappings":"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","file":"imports/ui/pages/ViewDocument.js.map","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ButtonToolbar, ButtonGroup, Button } from 'react-bootstrap';\nimport { browserHistory } from 'react-router';\nimport { Meteor } from 'meteor/meteor';\nimport { Bert } from 'meteor/themeteorchef:bert';\nimport Documents from '../../api/documents/documents';\nimport { removeDocument } from '../../api/documents/methods';\nimport NotFound from './NotFound';\nimport container from '../../modules/container';\n\nconst handleEdit = (_id) => {\n  browserHistory.push(`/documents/${_id}/edit`);\n};\n\nconst handleRemove = (_id) => {\n  if (confirm('Are you sure? This is permanent!')) {\n    removeDocument.call({ _id }, (error) => {\n      if (error) {\n        Bert.alert(error.reason, 'danger');\n      } else {\n        Bert.alert('Document deleted!', 'success');\n        browserHistory.push('/documents');\n      }\n    });\n  }\n};\n\nconst ViewDocument = ({ doc }) => {\n  return doc ? (\n    <div className=\"ViewDocument\">\n      <div className=\"page-header clearfix\">\n        <h4 className=\"pull-left\">{ doc && doc.title }</h4>\n        <ButtonToolbar className=\"pull-right\">\n          <ButtonGroup bsSize=\"small\">\n            <Button onClick={ () => handleEdit(doc._id) }>Edit</Button>\n            <Button onClick={ () => handleRemove(doc._id) } className=\"text-danger\">Delete</Button>\n          </ButtonGroup>\n        </ButtonToolbar>\n      </div>\n      { doc && doc.body }\n    </div>\n  ) : <NotFound />;\n};\n\nViewDocument.propTypes = {\n  doc: PropTypes.object,\n};\n\nexport default container((props, onData) => {\n  const documentId = props.params._id;\n  const subscription = Meteor.subscribe('documents.view', documentId);\n\n  if (subscription.ready()) {\n    const doc = Documents.findOne(documentId);\n    onData(null, { doc });\n  }\n}, ViewDocument);\n"]},"hash":"5cdbce574be87f932679b605782ef6d697e15ae1"}
