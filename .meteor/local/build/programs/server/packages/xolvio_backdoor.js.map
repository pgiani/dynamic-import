{"version":3,"sources":["meteor://ðŸ’»app/packages/xolvio:backdoor/server.js"],"names":["vm","Npm","require","Meteor","methods","func","args","check","String","Match","Optional","Array","preparedFunc","runInThisContext","call","meteorInstall","value","apply","global","error","message","toString","stack","code"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,kCAEA,IAAIA,KAAKC,IAAIC,OAAJ,CAAY,IAAZ,CAAT;;AAEAC,OAAOC,OAAP,CAAe;AACb,qBAAmB,UAAUC,IAAV,EAAgBC,IAAhB,EAAsB;AACvCC,UAAMF,IAAN,EAAYG,MAAZ;AACAD,UAAMD,IAAN,EAAYG,MAAMC,QAAN,CAAeC,KAAf,CAAZ;;AAEA,QAAI;AACF,UAAMC,eAAeZ,GAAGa,gBAAH,CACnB,mCAAmCR,IAAnC,GAA0C,OADvB,EAEnBS,IAFmB,CAEd,IAFc,EAERC,eAFQ,CAArB;AAGA,aAAO;AACLC,eAAOJ,aAAaK,KAAb,CAAmBC,MAAnB,EAA2BZ,IAA3B;AADF,OAAP;AAGD,KAPD,CAOE,OAAOa,KAAP,EAAc;AACd,aAAO;AACLA,eAAO;AACLC,mBAASD,MAAME,QAAN,EADJ;AAELC,iBAAOH,MAAMG,KAAN,GAAcH,MAAMG,KAAN,CAAYD,QAAZ,EAAd,GAAuC,EAFzC;AAGLE,gBAAMlB;AAHD;AADF,OAAP;AAOD;AACF;AArBY,CAAf,wE","file":"/packages/xolvio_backdoor.js","sourcesContent":["/* globals meteorInstall: false */\n\nvar vm = Npm.require('vm');\n\nMeteor.methods({\n  'xolvio/backdoor': function (func, args) {\n    check(func, String);\n    check(args, Match.Optional(Array));\n\n    try {\n      const preparedFunc = vm.runInThisContext(\n        '(function (require) { return (' + func + '); })'\n      ).call(null, meteorInstall());\n      return {\n        value: preparedFunc.apply(global, args)\n      };\n    } catch (error) {\n      return {\n        error: {\n          message: error.toString(),\n          stack: error.stack ? error.stack.toString() : '',\n          code: func\n        }\n      };\n    }\n  }\n});\n"]}